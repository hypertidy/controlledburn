<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sparse Polygon Rasterization with Exact Coverage Fractions • controlledburn</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Sparse Polygon Rasterization with Exact Coverage Fractions">
<meta property="og:description" content="Rasterize polygons without materializing any pixel values. Computes exact coverage fractions for polygon-grid intersections and returns results in a sparse two-table format: run-length encoded interior cells and individually weighted boundary cells. The scanline algorithm is O(perimeter) in both time and memory. Uses the exactextract algorithm by Daniel Baston, vendored from the exactextractr package. Derived from the fasterize package by Noam Ross.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">controlledburn</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/controlledburn-journey.html">controlledburn-journey</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hypertidy/controlledburn/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="controlledburn">controlledburn<a class="anchor" aria-label="anchor" href="#controlledburn"></a>
</h1></div>
<!-- badges: start -->

<p>Rasterize polygons without materializing any pixel values. controlledburn computes exact coverage fractions for polygon-grid intersections and returns results as sparse tables: run-length encoded interior cells and individually weighted boundary cells.</p>
<p>The scanline algorithm is O(perimeter) in both time and memory.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"hypertidy/controlledburn"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hypertidy/controlledburn" class="external-link">controlledburn</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://paleolimbot.github.io/geos/" class="external-link">geos</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">poly</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://paleolimbot.github.io/geos/reference/as_geos_geometry.html" class="external-link">as_geos_geometry</a></span><span class="op">(</span><span class="st">"POLYGON ((1 1, 9 1, 9 9, 1 9, 1 1))"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Sparse output — no dense matrix allocated</span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/burn_scanline.html">burn_scanline</a></span><span class="op">(</span><span class="va">poly</span>, extent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span>, <span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span>, dimension <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20L</span>, <span class="fl">20L</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">r</span></span>
<span><span class="co">#&gt; &lt;controlledburn&gt; 20 x 20 grid, 1 geometry</span></span>
<span><span class="co">#&gt;   runs:  74 (256 interior cells)</span></span>
<span><span class="co">#&gt;   edges: 0 boundary cells</span></span>
<span><span class="co">#&gt;   sparsity: 36.0% empty</span></span>
<span><span class="co">#&gt; &lt;controlledburn&gt; 20 x 20 grid, 1 geometry</span></span>
<span><span class="co">#&gt;   runs:  N (interior cells)</span></span>
<span><span class="co">#&gt;   edges: N boundary cells</span></span>
<span></span>
<span><span class="co"># Materialise only when you need it</span></span>
<span><span class="va">mat</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/materialise_chunk.html">materialise_chunk</a></span><span class="op">(</span><span class="va">r</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="default-grid-parameters">Default grid parameters<a class="anchor" aria-label="anchor" href="#default-grid-parameters"></a>
</h3>
<p>With no extent or dimension, controlledburn derives both from the geometry:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/burn_scanline.html">burn_scanline</a></span><span class="op">(</span><span class="va">poly</span><span class="op">)</span></span>
<span><span class="co"># extent from wk::wk_bbox(), 256 cells on the long axis</span></span></code></pre></div>
<p>Or specify resolution:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/burn_scanline.html">burn_scanline</a></span><span class="op">(</span><span class="va">poly</span>, resolution <span class="op">=</span> <span class="fl">0.5</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="geometry-input">Geometry input<a class="anchor" aria-label="anchor" href="#geometry-input"></a>
</h3>
<p>Accepts <code>geos_geometry</code>, <code>sfc</code>, <code><a href="https://paleolimbot.github.io/wk/reference/wkb.html" class="external-link">wk::wkb()</a></code>, <code>blob</code>, or raw WKB list (compatible with vapour/gdalraster):</p>
<p>Note that <code><a href="https://paleolimbot.github.io/geos/reference/as_geos_geometry.html" class="external-link">geos::as_geos_geometry()</a></code> provides interchange for <code>terra::vect()</code>.</p>
</div>
<div class="section level3">
<h3 id="shared-boundary-complementarity">Shared boundary complementarity<a class="anchor" aria-label="anchor" href="#shared-boundary-complementarity"></a>
</h3>
<p>Adjacent polygons with shared edges produce complementary coverage fractions that sum to exactly 1.0 in every boundary cell — no gaps, no overlaps:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">left</span>  <span class="op">&lt;-</span> <span class="fu"><a href="https://paleolimbot.github.io/geos/reference/as_geos_geometry.html" class="external-link">as_geos_geometry</a></span><span class="op">(</span><span class="st">"POLYGON ((0 0, 5 0, 5 10, 0 10, 0 0))"</span><span class="op">)</span></span>
<span><span class="va">right</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://paleolimbot.github.io/geos/reference/as_geos_geometry.html" class="external-link">as_geos_geometry</a></span><span class="op">(</span><span class="st">"POLYGON ((5 0, 10 0, 10 10, 5 10, 5 0))"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">r</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/burn_scanline.html">burn_scanline</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">left</span>, <span class="va">right</span><span class="op">)</span>, extent <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">10</span>,<span class="fl">0</span>,<span class="fl">10</span><span class="op">)</span>, dimension <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">20L</span>,<span class="fl">20L</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Coverage sums to 1.0 in every touched cell</span></span>
<span><span class="va">mat1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/materialise_chunk.html">materialise_chunk</a></span><span class="op">(</span><span class="va">r</span>, id <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="va">mat2</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/materialise_chunk.html">materialise_chunk</a></span><span class="op">(</span><span class="va">r</span>, id <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">mat1</span> <span class="op">+</span> <span class="va">mat2</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; [1] 1</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="output-format">Output format<a class="anchor" aria-label="anchor" href="#output-format"></a>
</h2>
<p><code><a href="reference/burn_scanline.html">burn_scanline()</a></code> and <code><a href="reference/burn_sparse.html">burn_sparse()</a></code> return a list with class <code>"controlledburn"</code> containing:</p>
<ul>
<li>
<strong><code>runs</code></strong>: <code>data.frame(row, col_start, col_end, id)</code> — interior cells with coverage = 1.0, run-length encoded by row.</li>
<li>
<strong><code>edges</code></strong>: <code>data.frame(row, col, weight, id)</code> — boundary cells with exact partial coverage in (0, 1).</li>
<li>
<strong><code>extent</code></strong>: <code>c(xmin, xmax, ymin, ymax)</code>
</li>
<li>
<strong><code>dimension</code></strong>: <code>c(ncol, nrow)</code>
</li>
</ul>
<p>This is the natural output of scanline rasterization — no dense matrix is allocated until <code><a href="reference/materialise_chunk.html">materialise_chunk()</a></code> is called.</p>
</div>
<div class="section level2">
<h2 id="performance">Performance<a class="anchor" aria-label="anchor" href="#performance"></a>
</h2>
<p>Scanline algorithm scales with perimeter, not area:</p>
<table class="table">
<thead><tr class="header">
<th>Shape</th>
<th>Resolution</th>
<th>Scanline</th>
<th>Dense (burn_sparse)</th>
<th>Speedup</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>Star</td>
<td>3200×3200</td>
<td>13 ms</td>
<td>225 ms</td>
<td>17×</td>
</tr>
<tr class="even">
<td>Jagged</td>
<td>3200×3200</td>
<td>15 ms</td>
<td>136 ms</td>
<td>9×</td>
</tr>
<tr class="odd">
<td>NC counties</td>
<td>2000×800</td>
<td>29 ms</td>
<td>61 ms</td>
<td>2×</td>
</tr>
</tbody>
</table>
<p>Memory for real-world grids (CGAZ at 32K×16K, ~500M cells): ~50 MB sparse vs ~2 GB dense.</p>
</div>
<div class="section level2">
<h2 id="fast">Fast<a class="anchor" aria-label="anchor" href="#fast"></a>
</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">v</span> <span class="op">&lt;-</span> <span class="fu">new</span><span class="op">(</span><span class="fu">gdalraster</span><span class="fu">::</span><span class="va">GDALVector</span>, <span class="st">"/vsicurl/https://github.com/mdsumner/geoboundaries/releases/download/latest/geoBoundariesCGAZ_ADM0.parquet"</span><span class="op">)</span></span>
<span><span class="va">v</span><span class="op">$</span><span class="va">returnGeomAs</span> <span class="co">## WKB</span></span>
<span><span class="co">#&gt; [1] "WKB"</span></span>
<span><span class="va">gcol</span> <span class="op">&lt;-</span> <span class="va">v</span><span class="op">$</span><span class="fu">getGeometryColumn</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="va">v</span><span class="op">$</span><span class="fu">setIgnoredFields</span><span class="op">(</span> <span class="fu"><a href="https://rdrr.io/r/base/sets.html" class="external-link">setdiff</a></span><span class="op">(</span><span class="va">v</span><span class="op">$</span><span class="fu">getFieldNames</span><span class="op">(</span><span class="op">)</span>, <span class="va">gcol</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">wkbgeom</span> <span class="op">&lt;-</span> <span class="fu">wk</span><span class="fu">::</span><span class="fu"><a href="https://paleolimbot.github.io/wk/reference/wkb.html" class="external-link">wkb</a></span><span class="op">(</span><span class="va">v</span><span class="op">$</span><span class="fu">fetch</span><span class="op">(</span><span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">[[</span><span class="va">gcol</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">v</span><span class="op">$</span><span class="fu">close</span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="fu"><a href="reference/burn_scanline.html">burn_scanline</a></span><span class="op">(</span><span class="va">wkbgeom</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;   0.524   0.015   0.538</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">r1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/burn_scanline.html">burn_scanline</a></span><span class="op">(</span><span class="va">wkbgeom</span>, dimension <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8192</span>, <span class="fl">4096</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;   0.953   0.000   0.953</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">r1</span><span class="op">)</span></span>
<span><span class="co">#&gt; List of 4</span></span>
<span><span class="co">#&gt;  $ runs     :'data.frame':   81149 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   ..$ row      : int [1:81149] 1067 1068 1069 1070 1071 1072 1073 1074 1075 1076 ...</span></span>
<span><span class="co">#&gt;   ..$ col_start: int [1:81149] 5712 5706 5706 5704 5704 5703 5702 5702 5701 5699 ...</span></span>
<span><span class="co">#&gt;   ..$ col_end  : int [1:81149] 5712 5712 5715 5717 5719 5719 5719 5719 5718 5718 ...</span></span>
<span><span class="co">#&gt;   ..$ id       : int [1:81149] 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ edges    :'data.frame':   469461 obs. of  4 variables:</span></span>
<span><span class="co">#&gt;   ..$ row   : int [1:469461] 1065 1066 1066 1066 1066 1066 1066 1066 1067 1067 ...</span></span>
<span><span class="co">#&gt;   ..$ col   : int [1:469461] 5712 5707 5708 5709 5710 5711 5712 5713 5705 5706 ...</span></span>
<span><span class="co">#&gt;   ..$ weight: num [1:469461] 0.0126 0.1343 0.0792 0.296 0.1872 ...</span></span>
<span><span class="co">#&gt;   ..$ id    : int [1:469461] 1 1 1 1 1 1 1 1 1 1 ...</span></span>
<span><span class="co">#&gt;  $ extent   : num [1:4] -180 180 -90 83.6</span></span>
<span><span class="co">#&gt;  $ dimension: int [1:2] 8192 4096</span></span>
<span><span class="co">#&gt;  - attr(*, "class")= chr "controlledburn"</span></span></code></pre></div>
<p>Really fast.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/system.time.html" class="external-link">system.time</a></span><span class="op">(</span><span class="va">r1</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/burn_scanline.html">burn_scanline</a></span><span class="op">(</span><span class="va">wkbgeom</span>, dimension <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">8192</span>, <span class="fl">4096</span><span class="op">)</span> <span class="op">*</span> <span class="fl">20</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt;    user  system elapsed </span></span>
<span><span class="co">#&gt;  17.005   0.625  17.629</span></span>
<span><span class="fu">pryr</span><span class="fu">::</span><span class="fu">object_size</span><span class="op">(</span><span class="va">r1</span><span class="op">)</span></span>
<span><span class="co">#&gt; 278.56 MB</span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">r1</span><span class="op">$</span><span class="va">runs</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 2,402,331 × 4</span></span>
<span><span class="co">#&gt;      row col_start col_end    id</span></span>
<span><span class="co">#&gt;    &lt;int&gt;     &lt;int&gt;   &lt;int&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 21300    114229  114229     1</span></span>
<span><span class="co">#&gt;  2 21301    114228  114231     1</span></span>
<span><span class="co">#&gt;  3 21302    114227  114232     1</span></span>
<span><span class="co">#&gt;  4 21303    114226  114232     1</span></span>
<span><span class="co">#&gt;  5 21304    114225  114232     1</span></span>
<span><span class="co">#&gt;  6 21305    114224  114232     1</span></span>
<span><span class="co">#&gt;  7 21306    114210  114215     1</span></span>
<span><span class="co">#&gt;  8 21306    114221  114234     1</span></span>
<span><span class="co">#&gt;  9 21307    114209  114235     1</span></span>
<span><span class="co">#&gt; 10 21308    114209  114236     1</span></span>
<span><span class="co">#&gt; # ℹ 2,402,321 more rows</span></span>
<span><span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="va">r1</span><span class="op">$</span><span class="va">edges</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 12,006,186 × 4</span></span>
<span><span class="co">#&gt;      row    col   weight    id</span></span>
<span><span class="co">#&gt;    &lt;int&gt;  &lt;int&gt;    &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt;  1 21299 114228 0.49016      1</span></span>
<span><span class="co">#&gt;  2 21299 114229 0.52762      1</span></span>
<span><span class="co">#&gt;  3 21299 114230 0.029348     1</span></span>
<span><span class="co">#&gt;  4 21300 114227 0.14377      1</span></span>
<span><span class="co">#&gt;  5 21300 114228 0.91647      1</span></span>
<span><span class="co">#&gt;  6 21300 114230 0.95528      1</span></span>
<span><span class="co">#&gt;  7 21300 114231 0.61698      1</span></span>
<span><span class="co">#&gt;  8 21300 114232 0.36007      1</span></span>
<span><span class="co">#&gt;  9 21301 114226 0.44189      1</span></span>
<span><span class="co">#&gt; 10 21301 114227 0.95691      1</span></span>
<span><span class="co">#&gt; # ℹ 12,006,176 more rows</span></span>
<span><span class="va">r1</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"extent"</span>, <span class="st">"dimension"</span><span class="op">)</span><span class="op">]</span></span>
<span><span class="co">#&gt; $extent</span></span>
<span><span class="co">#&gt; [1] -180.00000  180.00000  -90.00000   83.63339</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $dimension</span></span>
<span><span class="co">#&gt; [1] 163840  81920</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="history">History<a class="anchor" aria-label="anchor" href="#history"></a>
</h2>
<p>controlledburn was derived from <a href="https://github.com/ecohealthalliance/fasterize" class="external-link">fasterize</a> by Noam Ross (EcoHealth Alliance), removing Armadillo and raster package dependencies to return bare scanline indexes.</p>
<p>Version 0.1.0 is a complete rewrite using the exactextract algorithm (Daniel Baston, vendored from <a href="https://github.com/isciences/exactextractr" class="external-link">exactextractr</a>) for exact coverage fractions via a new O(perimeter) scanline sweep.</p>
<p>See also: <a href="https://github.com/hypertidy/vaster" class="external-link">vaster</a> for grid cell indexing, <a href="https://github.com/isciences/exactextractr" class="external-link">exactextractr</a> for raster extraction with polygon weights.</p>
</div>
<div class="section level2">
<h2 id="code-of-conduct">Code of Conduct<a class="anchor" aria-label="anchor" href="#code-of-conduct"></a>
</h2>
<p>Please note that the controlledburn project is released with a <a href="https://contributor-covenant.org/version/2/1/CODE_OF_CONDUCT.html" class="external-link">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/hypertidy/controlledburn/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/hypertidy/controlledburn/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>Apache License (&gt;= 2)</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing controlledburn</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Michael Sumner <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0002-2471-7511" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Noam Ross <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-2136-0000" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li><a href="authors.html">More about authors...</a></li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/hypertidy/controlledburn/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/hypertidy/controlledburn/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Michael Sumner, Noam Ross.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
